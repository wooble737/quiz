import{f as Q,a as T}from"../chunks/CBPuV305.js";import"../chunks/CuTkDfWv.js";import{p as X,f as Y,t as A,g as a,b as Z,$ as ee,s as r,c as o,a as s,m,n as J,r as t}from"../chunks/D5VUmKBG.js";import{s as L}from"../chunks/DrJLZm3o.js";import{i as ae}from"../chunks/DwZR9p66.js";import{h as re}from"../chunks/BjZoY1pd.js";import{r as n}from"../chunks/kSZXnaSw.js";import{e as M}from"../chunks/KiRHlVu4.js";import{b as l}from"../chunks/BlDeASpq.js";import{p as oe}from"../chunks/D4Caz1gY.js";import{i as te}from"../chunks/hj3Nutag.js";var se=Q('<div class="text-red-600 text-center"> </div>'),ie=Q('<main class="container" style="padding: 40px 20px;"><h1 id="formTitle">Register</h1> <div class="auth-card"><form id="registerForm"><input type="text" name="full_name" class="form-control" placeholder="Full Name"/> <input type="email" name="email" class="form-control" placeholder="Email"/> <input type="password" name="password1" class="form-control" placeholder="Password"/> <input type="password" name="password2" class="form-control" placeholder="Confirm Password"/> <button type="submit" class="cta-btn">Register</button> <p class="mt-3">Already have an account? <a href="/login" class="toggle-link">Log In</a></p></form></div></main> <div class="min-h-screen flex items-center justify-center bg-gray-50"><div class="max-w-md w-full space-y-8"><div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Create your account</h2></div> <form class="mt-8 space-y-6"><div class="rounded-md shadow-sm -space-y-px"><div><label for="name" class="sr-only">Full Name</label> <input id="name" name="name" type="text" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Full Name"/></div> <div><label for="email" class="sr-only">Email address</label> <input id="email" name="email" type="email" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Email address"/></div> <div><label for="password" class="sr-only">Password</label> <input id="password" name="password" type="password" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Password"/></div> <div><label for="confirmPassword" class="sr-only">Confirm Password</label> <input id="confirmPassword" name="confirmPassword" type="password" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Confirm Password"/></div></div> <div><button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"> </button></div> <!> <div class="text-center"><a href="/login" class="text-indigo-600 hover:text-indigo-500">Already have an account? Sign in</a></div></form></div></div>',1);function ye(B,G){X(G,!1);let c=m(""),p=m(""),f=m(""),v=m(""),d=m(""),u=m(!1);async function H(){if(a(f)!==a(v)){s(d,"Passwords do not match");return}s(u,!0),s(d,"");try{const e=await fetch("http://localhost:8000/api/auth/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a(p),email:a(p),password:a(f),first_name:a(c).split(" ")[0],last_name:a(c).split(" ").slice(1).join(" ")})}),i=await e.json();e.ok?(alert("Registration successful!"),localStorage.setItem("access_token",i.tokens.access),localStorage.setItem("refresh_token",i.tokens.refresh),localStorage.setItem("user",JSON.stringify(i.user)),window.location.href="/login"):s(d,Object.values(i).flat().join(", ")||"Registration failed")}catch{s(d,"Network error")}s(u,!1)}te();var R=ie();re("52fghe",e=>{ee.title="Register â€” Quiz Maker"});var g=Y(R),N=r(o(g),2),b=o(N),y=o(b);n(y);var h=r(y,2);n(h);var w=r(h,2);n(w);var z=r(w,2);n(z),J(4),t(b),t(N),t(g);var C=r(g,2),q=o(C),x=r(o(q),2),_=o(x),k=o(_),F=r(o(k),2);n(F),t(k);var P=r(k,2),I=r(o(P),2);n(I),t(P);var D=r(P,2),O=r(o(D),2);n(O),t(D);var $=r(D,2),E=r(o($),2);n(E),t($),t(_);var S=r(_,2),j=o(S),K=o(j,!0);t(j),t(S);var U=r(S,2);{var V=e=>{var i=se(),W=o(i,!0);t(i),A(()=>L(W,a(d))),T(e,i)};ae(U,e=>{a(d)&&e(V)})}J(2),t(x),t(q),t(C),A(()=>{j.disabled=a(u),L(K,a(u)?"Registering...":"Register")}),l(y,()=>formData.full_name,e=>formData.full_name=e),l(h,()=>formData.email,e=>formData.email=e),l(w,()=>formData.password1,e=>formData.password1=e),l(z,()=>formData.password2,e=>formData.password2=e),M("submit",b,submit),l(F,()=>a(c),e=>s(c,e)),l(I,()=>a(p),e=>s(p,e)),l(O,()=>a(f),e=>s(f,e)),l(E,()=>a(v),e=>s(v,e)),M("submit",x,oe(H)),T(B,R),Z()}export{ye as component};
