import{f as I,a as C}from"../chunks/DXEngK6a.js";import"../chunks/BqSQbZxX.js";import{p as G,t as O,g as r,b as H,s,c as a,a as t,m as l,r as o,n as K}from"../chunks/BsrcbJGS.js";import{s as R}from"../chunks/1J8kevT7.js";import{i as L}from"../chunks/DQsbSWEf.js";import{r as p}from"../chunks/C6ojX3s0.js";import{e as M}from"../chunks/DyFJ2-eY.js";import{b as f}from"../chunks/Cr5OOY_w.js";import{p as Q}from"../chunks/D4Caz1gY.js";import{i as U}from"../chunks/CZvD0OpK.js";var V=I('<div class="text-red-600 text-center"> </div>'),W=I('<div class="min-h-screen flex items-center justify-center bg-gray-50"><div class="max-w-md w-full space-y-8"><div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Create your account</h2></div> <form class="mt-8 space-y-6"><div class="rounded-md shadow-sm -space-y-px"><div><label for="name" class="sr-only">Full Name</label> <input id="name" name="name" type="text" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Full Name"/></div> <div><label for="email" class="sr-only">Email address</label> <input id="email" name="email" type="email" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Email address"/></div> <div><label for="password" class="sr-only">Password</label> <input id="password" name="password" type="password" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Password"/></div> <div><label for="confirmPassword" class="sr-only">Confirm Password</label> <input id="confirmPassword" name="confirmPassword" type="password" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Confirm Password"/></div></div> <div><button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"> </button></div> <!> <div class="text-center"><a href="/login" class="text-indigo-600 hover:text-indigo-500">Already have an account? Sign in</a></div></form></div></div>');function ie(E,F){G(F,!1);let d=l(""),c=l(""),m=l(""),v=l(""),n=l(""),u=l(!1);async function J(){if(r(m)!==r(v)){t(n,"Passwords do not match");return}t(u,!0),t(n,"");try{const e=await fetch("http://localhost:8000/api/auth/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r(c),email:r(c),password:r(m),first_name:r(d).split(" ")[0],last_name:r(d).split(" ").slice(1).join(" ")})}),i=await e.json();e.ok?(alert("Registration successful!"),localStorage.setItem("access_token",i.tokens.access),localStorage.setItem("refresh_token",i.tokens.refresh),localStorage.setItem("user",JSON.stringify(i.user)),window.location.href="/login"):t(n,Object.values(i).flat().join(", ")||"Registration failed")}catch{t(n,"Network error")}t(u,!1)}U();var g=W(),P=a(g),b=s(a(P),2),y=a(b),x=a(y),S=s(a(x),2);p(S),o(x);var h=s(x,2),j=s(a(h),2);p(j),o(h);var w=s(h,2),N=s(a(w),2);p(N),o(w);var q=s(w,2),z=s(a(q),2);p(z),o(q),o(y);var _=s(y,2),k=a(_),T=a(k,!0);o(k),o(_);var A=s(_,2);{var D=e=>{var i=V(),B=a(i,!0);o(i),O(()=>R(B,r(n))),C(e,i)};L(A,e=>{r(n)&&e(D)})}K(2),o(b),o(P),o(g),O(()=>{k.disabled=r(u),R(T,r(u)?"Registering...":"Register")}),f(S,()=>r(d),e=>t(d,e)),f(j,()=>r(c),e=>t(c,e)),f(N,()=>r(m),e=>t(m,e)),f(z,()=>r(v),e=>t(v,e)),M("submit",b,Q(J)),C(E,g),H()}export{ie as component};
