import{f as P,a as Q,c as xe}from"../chunks/CBPuV305.js";import"../chunks/CuTkDfWv.js";import{K as se,w as G,F as Re,D as ke,a2 as Fe,E as Le,g as d,a7 as Qe,a4 as ze,a5 as Be,a6 as we,J as le,M as re,G as Ye,a8 as Je,_ as be,a1 as Ue,a9 as ie,aa as ne,x as oe,ab as Se,ac as Ce,ad as Ie,m as K,ae as ye,af as Ae,X as Oe,Z as Ve,ag as ue,z as Xe,Y as Me,ah as Ge,ai as Ke,I as Pe,aj as We,ak as Ze,al as $e,U as je,o as er,am as rr,O as ar,an as tr,ao as or,y as ir,t as X,c as A,s as w,ap as nr,r as y,aq as de,n as sr,a as T,f as fe}from"../chunks/D5VUmKBG.js";import{s as ve}from"../chunks/DrJLZm3o.js";import{i as te}from"../chunks/DwZR9p66.js";import{r as Ee,s as lr}from"../chunks/kSZXnaSw.js";import{e as ce}from"../chunks/KiRHlVu4.js";import{b as _e}from"../chunks/BlDeASpq.js";import{p as ur}from"../chunks/D4Caz1gY.js";function qe(r,a){return a}function dr(r,a,e){for(var t=r.items,i=[],l=a.length,s=0;s<l;s++)We(a[s].e,i,!0);var _=l>0&&i.length===0&&e!==null;if(_){var E=e.parentNode;Ze(E),E.append(e),t.clear(),F(r,a[0].prev,a[l-1].next)}$e(i,()=>{for(var q=0;q<l;q++){var p=a[q];_||(t.delete(p.k),F(r,p.prev,p.next)),Me(p.e,!_)}})}function Te(r,a,e,t,i,l=null){var s=r,_={flags:a,items:new Map,first:null},E=(a&Se)!==0;if(E){var q=r;s=G?se(Re(q)):q.appendChild(ke())}G&&Fe();var p=null,N=!1,k=new Map,D=Qe(()=>{var m=e();return Ie(m)?m:m==null?[]:Ce(m)}),n,c;function v(){fr(c,n,_,k,s,i,a,t,e),l!==null&&(n.length===0?p?Oe(p):p=be(()=>l(s)):p!==null&&Ve(p,()=>{p=null}))}Le(()=>{c??=je,n=d(D);var m=n.length;if(N&&m===0)return;N=m===0;let h=!1;if(G){var C=ze(s)===Be;C!==(m===0)&&(s=we(),se(s),le(!1),h=!0)}if(G){for(var M=null,g,o=0;o<m;o++){if(re.nodeType===Ye&&re.data===Je){s=re,h=!0,le(!1);break}var u=n[o],b=t(u,o);g=he(re,_,M,null,u,b,o,i,a,e),_.items.set(b,g),M=g}m>0&&se(we())}if(G)m===0&&l&&(p=be(()=>l(s)));else if(Ue()){var B=new Set,W=oe;for(o=0;o<m;o+=1){u=n[o],b=t(u,o);var L=_.items.get(b)??k.get(b);L?(a&(ie|ne))!==0&&Ne(L,u,o,a):(g=he(null,_,null,null,u,b,o,i,a,e,!0),k.set(b,g)),B.add(b)}for(const[f,x]of _.items)B.has(f)||W.skipped_effects.add(x.e);W.oncommit(v)}else v();h&&le(!0),d(D)}),G&&(s=re)}function fr(r,a,e,t,i,l,s,_,E){var q=(s&Ke)!==0,p=(s&(ie|ne))!==0,N=a.length,k=e.items,D=e.first,n=D,c,v=null,m,h=[],C=[],M,g,o,u;if(q)for(u=0;u<N;u+=1)M=a[u],g=_(M,u),o=k.get(g),o!==void 0&&(o.a?.measure(),(m??=new Set).add(o));for(u=0;u<N;u+=1){if(M=a[u],g=_(M,u),o=k.get(g),o===void 0){var b=t.get(g);if(b!==void 0){t.delete(g),k.set(g,b);var B=v?v.next:n;F(e,v,b),F(e,b,B),me(b,B,i),v=b}else{var W=n?n.e.nodes_start:i;v=he(W,e,v,v===null?e.first:v.next,M,g,u,l,s,E)}k.set(g,v),h=[],C=[],n=v.next;continue}if(p&&Ne(o,M,u,s),(o.e.f&ue)!==0&&(Oe(o.e),q&&(o.a?.unfix(),(m??=new Set).delete(o))),o!==n){if(c!==void 0&&c.has(o)){if(h.length<C.length){var L=C[0],f;v=L.prev;var x=h[0],S=h[h.length-1];for(f=0;f<h.length;f+=1)me(h[f],L,i);for(f=0;f<C.length;f+=1)c.delete(C[f]);F(e,x.prev,S.next),F(e,v,x),F(e,S,L),n=L,v=S,u-=1,h=[],C=[]}else c.delete(o),me(o,n,i),F(e,o.prev,o.next),F(e,o,v===null?e.first:v.next),F(e,v,o),v=o;continue}for(h=[],C=[];n!==null&&n.k!==g;)(n.e.f&ue)===0&&(c??=new Set).add(n),C.push(n),n=n.next;if(n===null)continue;o=n}h.push(o),v=o,n=o.next}if(n!==null||c!==void 0){for(var I=c===void 0?[]:Ce(c);n!==null;)(n.e.f&ue)===0&&I.push(n),n=n.next;var Y=I.length;if(Y>0){var H=(s&Se)!==0&&N===0?i:null;if(q){for(u=0;u<Y;u+=1)I[u].a?.measure();for(u=0;u<Y;u+=1)I[u].a?.fix()}dr(e,I,H)}}q&&Xe(()=>{if(m!==void 0)for(o of m)o.a?.apply()}),r.first=e.first&&e.first.e,r.last=v&&v.e;for(var O of t.values())Me(O.e);t.clear()}function Ne(r,a,e,t){(t&ie)!==0&&Ae(r.v,a),(t&ne)!==0?Ae(r.i,e):r.i=e}function he(r,a,e,t,i,l,s,_,E,q,p){var N=(E&ie)!==0,k=(E&Ge)===0,D=N?k?K(i,!1,!1):ye(i):i,n=(E&ne)===0?s:ye(s),c={i:n,v:D,k:l,a:null,e:null,prev:e,next:t};try{if(r===null){var v=document.createDocumentFragment();v.append(r=ke())}return c.e=be(()=>_(r,D,n,q),G),c.e.prev=e&&e.e,c.e.next=t&&t.e,e===null?p||(a.first=c):(e.next=c,e.e.next=c.e),t!==null&&(t.prev=c,t.e.prev=c.e),c}finally{}}function me(r,a,e){for(var t=r.next?r.next.e.nodes_start:e,i=a?a.e.nodes_start:e,l=r.e.nodes_start;l!==null&&l!==t;){var s=Pe(l);i.before(l),l=s}}function F(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function De(r,a,e=!1){if(r.multiple){if(a==null)return;if(!Ie(a))return tr();for(var t of r.options)t.selected=a.includes(ae(t));return}for(t of r.options){var i=ae(t);if(or(i,a)){t.selected=!0;return}}(!e||a!==void 0)&&(r.selectedIndex=-1)}function vr(r){var a=new MutationObserver(()=>{De(r,r.__value)});a.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ar(()=>{a.disconnect()})}function pe(r,a,e=a){var t=new WeakSet,i=!0;er(r,"change",l=>{var s=l?"[selected]":":checked",_;if(r.multiple)_=[].map.call(r.querySelectorAll(s),ae);else{var E=r.querySelector(s)??r.querySelector("option:not([disabled])");_=E&&ae(E)}e(_),oe!==null&&t.add(oe)}),rr(()=>{var l=a();if(r===document.activeElement){var s=ir??oe;if(t.has(s))return}if(De(r,l,i),i&&l===void 0){var _=r.querySelector(":checked");_!==null&&(l=ae(_),e(l))}r.__value=l,i=!1}),vr(r)}function ae(r){return"__value"in r?r.__value:r.value}var cr=P('<div class="flex items-center space-x-2 mb-2"><input type="text" class="flex-1 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"/> <button type="button" class="text-red-600 hover:text-red-800">Remove</button></div>'),_r=P("<option> </option>"),mr=P('<div><label for="options" class="block text-sm font-medium text-gray-700 mb-2">Options</label> <div id="options" class="space-y-2"></div> <button type="button" class="mt-2 text-indigo-600 hover:text-indigo-500">+ Add Option</button></div> <div><label for="correctAnswer" class="block text-sm font-medium text-gray-700">Correct Answer</label> <select id="correctAnswer" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"><option>Select correct answer</option><!></select></div>',1),pr=P('<div><label for="correctAnswer" class="block text-sm font-medium text-gray-700">Correct Answer</label> <select id="correctAnswer" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"><option>True</option><option>False</option></select></div>'),br=P('<div><label for="correctAnswer" class="block text-sm font-medium text-gray-700">Correct Answer</label> <input type="text" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter the correct answer"/></div>'),hr=P('<div class="text-red-600 text-center mt-4"> </div>'),gr=P('<div class="min-h-screen bg-gray-50 py-8"><div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md"><h1 class="text-3xl font-bold text-gray-900 mb-6">Create a Question</h1> <form class="space-y-6"><div><label for="question" class="block text-sm font-medium text-gray-700">Question</label> <textarea id="question" required rows="3" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter your question here"></textarea></div> <div><label for="questionType" class="block text-sm font-medium text-gray-700">Question Type</label> <select id="questionType" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"><option>Multiple Choice</option><option>True/False</option><option>Short Answer</option></select></div> <!> <div><button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"> </button></div> <!></form> <div class="mt-6"><a href="/" class="text-indigo-600 hover:text-indigo-500">Back to Home</a></div></div></div>');function Cr(r){let a=K(""),e=K("multiple-choice"),t=K(["","","",""]),i=K(""),l=K(""),s=K(!1);function _(){T(t,[...d(t),""])}function E(f){T(t,d(t).filter((x,S)=>S!==f))}async function q(){T(s,!0),T(l,"");try{const f=localStorage.getItem("access_token"),x=await fetch("http://localhost:8000/api/questions/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({quiz:quizId,question_text:d(a),question_type:d(e),options:d(e)==="multiple-choice"?d(t).filter(I=>I.trim()):null,correct_answer:d(i)})}),S=await x.json();x.ok?(alert("Question saved successfully!"),T(a,""),T(t,["","","",""]),T(i,"")):T(l,"Failed to save question")}catch{T(l,"Network error")}T(s,!1)}var p=gr(),N=A(p),k=w(A(N),2),D=A(k),n=w(A(D),2);nr(n),y(D);var c=w(D,2),v=w(A(c),2);X(()=>{d(e),de(()=>{})});var m=A(v);m.value=m.__value="multiple-choice";var h=w(m);h.value=h.__value="true-false";var C=w(h);C.value=C.__value="short-answer",y(v),y(c);var M=w(c,2);{var g=f=>{var x=mr(),S=fe(x),I=w(A(S),2);Te(I,5,()=>d(t),qe,(z,U,j)=>{var ee=cr(),Z=A(ee);Ee(Z),lr(Z,"placeholder",`Option ${j+1}`);var $=w(Z,2);y(ee),X(()=>$.disabled=d(t).length<=2),_e(Z,()=>opt.value,V=>opt.value=V),ce("click",$,()=>E(j)),Q(z,ee)}),y(I);var Y=w(I,2);y(S);var H=w(S,2),O=w(A(H),2);X(()=>{d(i),de(()=>{d(t)})});var R=A(O);R.value=R.__value="";var J=w(R);Te(J,1,()=>d(t),qe,(z,U)=>{var j=xe(),ee=fe(j);{var Z=$=>{var V=_r(),He=A(V,!0);y(V);var ge={};X(()=>{ve(He,d(U)),ge!==(ge=d(U))&&(V.value=(V.__value=d(U))??"")}),Q($,V)};te(ee,$=>{d(U).trim()&&$(Z)})}Q(z,j)}),y(O),y(H),ce("click",Y,_),pe(O,()=>d(i),z=>T(i,z)),Q(f,x)},o=f=>{var x=xe(),S=fe(x);{var I=H=>{var O=pr(),R=w(A(O),2);X(()=>{d(i),de(()=>{})});var J=A(R);J.value=J.__value="true";var z=w(J);z.value=z.__value="false",y(R),y(O),pe(R,()=>d(i),U=>T(i,U)),Q(H,O)},Y=H=>{var O=br(),R=w(A(O),2);Ee(R),y(O),_e(R,()=>d(i),J=>T(i,J)),Q(H,O)};te(S,H=>{d(e)==="true-false"?H(I):H(Y,!1)},!0)}Q(f,x)};te(M,f=>{d(e)==="multiple-choice"?f(g):f(o,!1)})}var u=w(M,2),b=A(u),B=A(b,!0);y(b),y(u);var W=w(u,2);{var L=f=>{var x=hr(),S=A(x,!0);y(x),X(()=>ve(S,d(l))),Q(f,x)};te(W,f=>{d(l)&&f(L)})}y(k),sr(2),y(N),y(p),X(()=>{b.disabled=d(s),ve(B,d(s)?"Saving...":"Save Question")}),_e(n,()=>d(a),f=>T(a,f)),pe(v,()=>d(e),f=>T(e,f)),ce("submit",k,ur(q)),Q(r,p)}export{Cr as component};
