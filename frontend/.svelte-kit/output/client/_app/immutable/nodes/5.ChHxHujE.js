import{f as I,a as _}from"../chunks/CBPuV305.js";import"../chunks/CuTkDfWv.js";import{t as k,g as o,$ as E,s as i,c as r,a as s,m as l,r as t,n as J}from"../chunks/D5VUmKBG.js";import{s as S}from"../chunks/DrJLZm3o.js";import{i as L}from"../chunks/DwZR9p66.js";import{h as T}from"../chunks/BjZoY1pd.js";import{r as j}from"../chunks/kSZXnaSw.js";import{e as C}from"../chunks/KiRHlVu4.js";import{b as z}from"../chunks/BlDeASpq.js";import{p as M}from"../chunks/D4Caz1gY.js";var Q=I('<div class="text-red-600 text-center"> </div>'),R=I(`<div class="min-h-screen flex items-center justify-center bg-gray-50"><div class="max-w-md w-full space-y-8"><div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Sign in to your account</h2></div> <form class="mt-8 space-y-6"><div class="rounded-md shadow-sm -space-y-px"><div><label for="email" class="sr-only">Email address</label> <input id="email" name="email" type="email" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Email address"/></div> <div><label for="password" class="sr-only">Password</label> <input id="password" name="password" type="password" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Password"/></div></div> <div><button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"> </button></div> <!> <div class="text-center"><a href="/register" class="text-indigo-600 hover:text-indigo-500">Don't have an account? Register</a></div></form></div></div>`);function Y($){let c=l(""),m=l(""),n=l(""),d=l(!1);async function N(){s(d,!0),s(n,"");try{const e=await fetch("http://localhost:8000/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o(c),password:o(m)})}),a=await e.json();e.ok?(localStorage.setItem("access_token",a.tokens.access),localStorage.setItem("refresh_token",a.tokens.refresh),localStorage.setItem("user",JSON.stringify(a.user)),window.location.href="/"):s(n,a.detail||"Login failed")}catch{s(n,"Network error")}s(d,!1)}var u=R();T("1x05zx6",e=>{E.title="Log In â€” Quiz Maker"});var x=r(u),f=i(r(x),2),p=r(f),v=r(p),h=i(r(v),2);j(h),t(v);var y=i(v,2),w=i(r(y),2);j(w),t(y),t(p);var g=i(p,2),b=r(g),O=r(b,!0);t(b),t(g);var P=i(g,2);{var q=e=>{var a=Q(),D=r(a,!0);t(a),k(()=>S(D,o(n))),_(e,a)};L(P,e=>{o(n)&&e(q)})}J(2),t(f),t(x),t(u),k(()=>{b.disabled=o(d),S(O,o(d)?"Signing in...":"Sign in")}),z(h,()=>o(c),e=>s(c,e)),z(w,()=>o(m),e=>s(m,e)),C("submit",f,M(N)),_($,u)}export{Y as component};
