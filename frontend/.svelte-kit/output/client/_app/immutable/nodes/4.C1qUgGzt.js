import{f as N,a as _}from"../chunks/DXEngK6a.js";import"../chunks/BqSQbZxX.js";import{t as S,g as o,s as i,c as r,a as s,m as l,r as t,n as J}from"../chunks/BsrcbJGS.js";import{s as k}from"../chunks/1J8kevT7.js";import{i as L}from"../chunks/DQsbSWEf.js";import{r as j}from"../chunks/C6ojX3s0.js";import{e as T}from"../chunks/DyFJ2-eY.js";import{b as I}from"../chunks/Cr5OOY_w.js";import{p as C}from"../chunks/D4Caz1gY.js";var R=N('<div class="text-red-600 text-center"> </div>'),A=N(`<div class="min-h-screen flex items-center justify-center bg-gray-50"><div class="max-w-md w-full space-y-8"><div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Sign in to your account</h2></div> <form class="mt-8 space-y-6"><div class="rounded-md shadow-sm -space-y-px"><div><label for="email" class="sr-only">Email address</label> <input id="email" name="email" type="email" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Email address"/></div> <div><label for="password" class="sr-only">Password</label> <input id="password" name="password" type="password" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Password"/></div></div> <div><button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"> </button></div> <!> <div class="text-center"><a href="/register" class="text-indigo-600 hover:text-indigo-500">Don't have an account? Register</a></div></form></div></div>`);function W(O){let c=l(""),m=l(""),n=l(""),d=l(!1);async function P(){s(d,!0),s(n,"");try{const e=await fetch("http://localhost:8000/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o(c),password:o(m)})}),a=await e.json();e.ok?(alert("Login successful!"),localStorage.setItem("access_token",a.tokens.access),localStorage.setItem("refresh_token",a.tokens.refresh),localStorage.setItem("user",JSON.stringify(a.user)),window.location.href="/"):s(n,a.detail||"Login failed")}catch{s(n,"Network error")}s(d,!1)}var u=A(),y=r(u),f=i(r(y),2),p=r(f),v=r(p),x=i(r(v),2);j(x),t(v);var h=i(v,2),w=i(r(h),2);j(w),t(h),t(p);var g=i(p,2),b=r(g),q=r(b,!0);t(b),t(g);var z=i(g,2);{var D=e=>{var a=R(),E=r(a,!0);t(a),S(()=>k(E,o(n))),_(e,a)};L(z,e=>{o(n)&&e(D)})}J(2),t(f),t(y),t(u),S(()=>{b.disabled=o(d),k(q,o(d)?"Signing in...":"Sign in")}),I(x,()=>o(c),e=>s(c,e)),I(w,()=>o(m),e=>s(m,e)),T("submit",f,C(P)),_(O,u)}export{W as component};
